# SOC Incident Console

Production-grade static dashboard for SOC incident analysis and case management.

## Features

- **QRadar/XSOAR-style UI** - Professional SOC console interface
- **Case Workflow** - Status tracking, assignment, SLA monitoring
- **War Room** - Activity feed and case notes with localStorage persistence
- **Micro-interactions** - Smooth animations, hover effects, keyboard navigation
- **MITRE ATT&CK** - Interactive technique mapping and filtering
- **Risk Analysis** - User risk scoring with factor breakdown
- **Static Deployment** - No backend, runs on GitHub Pages

## Local Development

```bash
# 1. Run the pipeline to generate data
python run_pipeline.py

# 2. Open dashboard locally
cd dashboard
open index.html  # macOS
start index.html  # Windows
xdg-open index.html  # Linux
```

Or use a local server:

```bash
cd dashboard
python -m http.server 8000
# Visit http://localhost:8000
```

## GitHub Pages Deployment

### Option 1: Automatic (via Actions)

Create `.github/workflows/deploy-pages.yml`:

```yaml
name: Deploy Dashboard

on:
  push:
    branches: [main]
  workflow_dispatch:

permissions:
  contents: read
  pages: write
  id-token: write

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-python@v5
        with:
          python-version: '3.12'
      - run: python run_pipeline.py
      - uses: actions/configure-pages@v4
      - uses: actions/upload-pages-artifact@v3
        with:
          path: ./dashboard
      - uses: actions/deploy-pages@v4
```

### Option 2: Manual

```bash
# Run pipeline
python run_pipeline.py

# Commit dashboard data
git add dashboard/dashboard_data/
git commit -m "Update dashboard data"
git push

# Enable Pages in repo Settings → Pages → Source: main branch → /dashboard
```

## Dashboard Structure

```
dashboard/
├── index.html              # Main UI
├── styles.css              # SOC console styling
├── app.js                  # Logic + data loading
├── dashboard_data/         # Generated by pipeline
│   ├── summary.json
│   ├── alerts.jsonl
│   ├── risk_scores.json
│   ├── correlations.json
│   ├── report_executive.md
│   └── report_technical.md
└── README.md
```

## Data Sources

All data loaded from `dashboard_data/` (relative paths):

- `summary.json` - Incident metadata, KPIs, MITRE techniques
- `alerts.jsonl` - Detection alerts (JSON Lines)
- `risk_scores.json` - User risk scores with factors
- `correlations.json` - Event correlation patterns
- `report_executive.md` - Executive summary
- `report_technical.md` - Technical analysis

## UI Components

### Views

1. **Overview** - KPIs, incident narrative, distribution bars
2. **Alerts** - Filterable alert list with case status
3. **Entities** - User risk analysis with factor breakdown
4. **Timeline** - Attack progression stepper
5. **MITRE** - ATT&CK technique coverage grid
6. **Reports** - Executive/technical markdown viewer

### Case Drawer

- **Summary** - Alert details, entity, hypothesis
- **Evidence** - Event IDs with copy functionality
- **MITRE** - Mapped techniques and tactics
- **Response** - Recommended actions, playbook simulation
- **War Room** - Activity feed, case notes (localStorage)

### Case Workflow

- **Status** - New → Investigating → Contained → Closed
- **Assignment** - Unassigned / Me (simulated)
- **SLA** - Countdown timer (240 min default)
- **Notes** - Analyst comments with timestamps

All case state persists in browser localStorage.

## Keyboard Navigation

- **Alerts View**: Arrow Up/Down to navigate, Enter to open case
- **Drawer**: Esc to close
- **Global**: / to focus search (standard browser shortcut)

## Micro-Interactions

- **Card Hover** - Lift + shadow effect
- **Severity Glow** - Critical alerts pulse subtly
- **Drawer** - Smooth slide-in with overlay
- **Toast** - Top-right slide-in notifications
- **Timeline** - Active step pulse animation
- **Bars** - Animated width transitions

All animations respect `prefers-reduced-motion`.

## Customization

### Color Scheme

Edit CSS variables in `styles.css`:

```css
:root {
    --bg-primary: #0b0e1a;
    --accent-primary: #3b82f6;
    --critical: #dc2626;
    /* ... */
}
```

### SLA Duration

Edit in `app.js`:

```javascript
const remaining = Math.max(0, 240 - elapsed); // 240 min = 4 hours
```

## Browser Support

- Chrome/Edge 90+
- Firefox 88+
- Safari 14+

Requires ES6+ (fetch, async/await, arrow functions, template literals).

## Security Notes

- **Read-only** - No data modification
- **Client-side** - All processing in browser
- **XSS Protection** - All user content escaped via `escapeHtml()`
- **LocalStorage** - Case state stored locally (not transmitted)

## Troubleshooting

**"Data Missing" status pill**

- Run: `python run_pipeline.py`
- Verify: `dashboard/dashboard_data/*.json` exist
- Check: Browser console for fetch errors

**Dashboard not loading on GitHub Pages**

- Verify Settings → Pages is enabled
- Check Actions tab for deployment status
- Wait 1-2 minutes after push for rebuild

**Filters not working**

- Clear browser cache
- Check console for JavaScript errors
- Verify alerts.jsonl is valid JSON Lines

## Performance

- Load time: < 1s (all data ~100KB total)
- Zero external dependencies (no CDN requests)
- Efficient: Single fetch per file, mtime-based caching
- Responsive: Works on mobile/tablet/desktop

## Credits

Built as a portfolio-grade demonstration of:
- Modern vanilla JavaScript (no frameworks)
- Professional SOC UI/UX design
- Static site architecture
- Security incident visualization
